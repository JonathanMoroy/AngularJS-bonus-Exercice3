<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Exercice 3</title>
        <script src="angular.min.js" type="text/javascript"></script>
        <script src="angular-route.min.js" type="text/javascript"></script>
    </head>
    <body ng-app="app">
        <style>
            fieldset, legend {
                background-color: grey;
            }

            label {
                display: block;
                width: 100px;
                float: left;
            }

            .error {
                font-family: 'Arial', serif;
                background-color: red;
                font-size: 24px;
            }

            #error_span {
                text-align: center;
            }
        </style>
        <form name="emailForm" ng-controller="emailCtrl">

            <fieldset>
                <legend>Merci de renseigner chaque champs</legend>
                <label for="username">Nom: </label><input class="input_mail" type="text" name="username" id="username" ng-model="nameModel" ng-pattern="regex_name" required/>
                <br/>
                <label for="email">Email: </label>
                <input class="input_mail" type="email" name="email" id="email" ng-model="example" ng-pattern="regex_mail" required/>
                <br/>
                <label for="subject">Sujet: </label>                 
                <input class="input_mail" type="text" name="subject" id="subject" ng-model="subjectModel" ng-pattern="regex_subject" required/>
                <br/>
                <label for="someText">Texte: </label>
                <textarea class="input_mail" name="someText" id="someText" rows="4" cols="50" ng-model="textModel" ng-pattern="text_regex" required></textarea>
            </fieldset>
            <div>
                <span ng-show="emailForm.$valid"><button type="button" name="post" id="post">Envoyer</button></span>
                <p id="error_span"><span class="error" ng-show="emailForm.email.$error.pattern || emailForm.email.$error.required">Attention, email manquant ou mal saisi !<br/></span>
                    <span class="error" ng-show="emailForm.username.$error.pattern || emailForm.username.$error.required">Attention, nom manquant ou mal saisi !<br/></span>
                    <span class="error" ng-show="emailForm.subject.$error.pattern || emailForm.subject.$error.required">Attention, sujet manquant ou mal saisi !<br/></span>
                    <span class="error" ng-show="emailForm.someText.$error.pattern || emailForm.someText.$error.required">Attention, texte manquant ou mal saisi !<br/></span></p>
            </div>
            
            
            
            
        </form>
        
        
        
        
        
        

        <script>
            var app = angular.module('app', ['ngRoute']);
            
            app.config(function($routeProvider) {
    
    
    
            });

            app.controller('emailCtrl', function ($scope) {
                $scope.regex_name = /^[A-z- \\áàâäãçéèêëíìîïñóòôöõúùûüÁÀÂÄÇÉÈÊËÍÌÎÏÓÒÔÖÚÙÛÜ\s]{1,90}$/;
                $scope.nameModel = 'Username';
                $scope.example = 'example@mail.com';
                $scope.regex_mail = /^[\w\-\.]+[a-z0-9]@[\w\-\.]+[a-z0-9]\.[a-z]{2,}$/;
                $scope.regex_subject = /^[\d\D]{2,144}$/;
                $scope.subjectModel = 'Objet';
                $scope.text_regex = /^[\d\D]{1,}$/;
                $scope.textModel = 'Entrez votre texte';
            });




        </script>
    </body>
</html>